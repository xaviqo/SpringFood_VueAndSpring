{"ast":null,"code":"export default {\n  data: () => ({\n    cards: [{\n      id: \"delivered\",\n      title: \"Delivered orders\",\n      icon: \"mdi-truck-delivery\",\n      remain: 1,\n      total: 6,\n      percent: 0,\n      active: true\n    }, {\n      id: \"earnings\",\n      title: \"Total earnings\",\n      icon: \"mdi-cash-multiple\",\n      today: 1,\n      week: 30,\n      month: 343,\n      orders: 1,\n      active: true\n    }, {\n      id: \"lastorder\",\n      title: \"Last order\",\n      icon: \"mdi-account-clock\",\n      client: {\n        name: 'Xavier',\n        phone: '654776312',\n        avatar: null\n      },\n      order: {\n        date: '',\n        worker: 4\n      },\n      active: true\n    }, {\n      id: \"products\",\n      title: \"Stock status\",\n      icon: \"mdi-food-fork-drink\",\n      lowStock: {\n        id: 0,\n        stock: 0\n      },\n      topSelling: {\n        id: 0,\n        sold: 0\n      },\n      active: true\n    }]\n  }),\n  created: function () {\n    //UPDATE DELIVERED ORDERS CARD\n    this.cards.forEach(c => {\n      if (c.hasOwnProperty('percent')) {\n        c.percent = 100 - Math.round(c.remain / c.total * 100);\n      }\n\n      if (c.hasOwnProperty('order')) {\n        c.order.date = this.currentTime();\n      }\n    }); //CALCULATE LAST ORDER TIME\n  },\n  methods: {\n    currentTime() {\n      let date = new Date();\n      let hh = date.getHours();\n      let mm = date.getMinutes();\n      let ss = date.getSeconds();\n      let session = \"AM\";\n\n      if (hh === 0) {\n        hh = 12;\n      }\n\n      if (hh > 12) {\n        hh = hh - 12;\n        session = \"PM\";\n      }\n\n      hh = hh < 10 ? \"0\" + hh : hh;\n      mm = mm < 10 ? \"0\" + mm : mm;\n      ss = ss < 10 ? \"0\" + ss : ss;\n      return hh + \":\" + mm + \":\" + ss + \" \" + session;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA8HA;EACAA;IACAC,QACA;MACAC,eADA;MAEAC,yBAFA;MAGAC,0BAHA;MAIAC,SAJA;MAKAC,QALA;MAMAC,UANA;MAOAC;IAPA,CADA,EAUA;MACAN,cADA;MAEAC,uBAFA;MAGAC,yBAHA;MAIAK,QAJA;MAKAC,QALA;MAMAC,UANA;MAOAC,SAPA;MAQAJ;IARA,CAVA,EAoBA;MACAN,eADA;MAEAC,mBAFA;MAGAC,yBAHA;MAIAS;QACAC,cADA;QAEAC,kBAFA;QAGAC;MAHA,CAJA;MASAC;QACAC,QADA;QAEAC;MAFA,CATA;MAaAX;IAbA,CApBA,EAmCA;MACAN,cADA;MAEAC,qBAFA;MAGAC,2BAHA;MAIAgB;QACAlB,KADA;QAEAmB;MAFA,CAJA;MAQAC;QACApB,KADA;QAEAqB;MAFA,CARA;MAYAf;IAZA,CAnCA;EADA,EADA;EAqDAgB;IACA;IACA;MACA;QACAC;MACA;;MACA;QACAA;MACA;IACA,CAPA,EAFA,CAUA;EACA,CAhEA;EAiEAC;IACAC;MACA;MACA;MACA;MACA;MACA;;MAEA;QACAC;MACA;;MACA;QACAA;QACAC;MACA;;MAEAD;MACAE;MACAC;MAEA;IACA;;EArBA;AAjEA","names":["data","cards","id","title","icon","remain","total","percent","active","today","week","month","orders","client","name","phone","avatar","order","date","worker","lowStock","stock","topSelling","sold","created","c","methods","currentTime","hh","session","mm","ss"],"sourceRoot":"src/components","sources":["DashboardCards.vue"],"sourcesContent":["<template>\n  <v-row>\n    <template v-for=\"card in cards\">\n      <v-col v-if=\"(card.active) && (card.id)\" :key=\"card.id\">\n        <v-card class=\"pa-2\" outlined tile min-height=\"19vh\">\n          <div class=\"d-flex flex-no-wrap justify-space-between\">\n            <div>\n              <v-card-title class=\"body-1 text-weight-light\" v-text=\"card.title\"/>\n            </div>\n              <v-card-subtitle v-if=\"card.id === 'lastorder'\">\n                {{card.order.date}}\n              </v-card-subtitle>\n              <v-avatar size=\"50\">\n                <v-icon color=\"green\" large>{{card.icon}}</v-icon>\n              </v-avatar>\n          </div>\n          <v-divider/>\n          <!-- ### DELIVERED ### -->\n          <div v-if=\"card.id === 'delivered'\">\n            <v-row>\n              <v-col align=\"center\"\n              justify=\"center\">\n              <v-progress-circular\n                :rotate=\"360\"\n                :size=\"80\"\n                :width=\"12\"\n                :value=\"card.percent\"\n                color=\"green\"\n                class=\"mt-5\">\n                {{card.percent}}%\n              </v-progress-circular>\n              </v-col>\n              <v-col>\n                <div class=\"mt-5 subtitle-1\">\n                  <span v-if=\"card.remain>0\">Remaining: {{card.remain}}</span>\n                  <span v-else >No remaining orders </span>\n                </div>\n                <div> </div>\n                <div class=\"mt-5 subtitle-1\">\n                  <span>Total orders: {{card.total}}</span>\n                </div>\n              </v-col>\n            </v-row>\n          </div>\n          <!-- ### EARNINGS ### -->\n          <div v-else-if=\"card.id === 'earnings'\" class=\"mt-4 subtitle-1\">\n          <v-row>\n            <v-col cols=\"6\" class=\"text-center\">            \n              <span v-if=\"card.today>0\" class=\"pa-4\"><strong>Today: </strong>{{card.today}}€</span>\n            </v-col>\n            <v-col cols=\"6\" class=\"text-center\">\n              <span v-if=\"card.week>0\" class=\"pa-4\"><strong>Week: </strong>{{card.week}}€</span>\n            </v-col>\n            <v-divider v-if=\"card.orders>0\"/>\n            <v-col cols=\"12\" class=\"text-center\">\n              <span v-if=\"(card.orders>0)\" class=\"pa-4\">{{card.month}}€ this month from a total of {{card.orders}} orders</span>\n            </v-col>\n          </v-row>\n          </div>\n          <!-- ### LAST_ORDER ### -->\n          <div v-else-if=\"card.id === 'lastorder'\" class=\"mt-4 subtitle-1\">\n            <v-row>\n              <v-col cols=\"4\" \n              align=\"center\"\n              justify=\"center\">\n                <div align=\"center\"\n              justify=\"center\">\n                  <v-btn\n                  class=\"ma-2 body-2\"\n                  color=\"white\"\n                  elevation=\"0\"\n                  x-small\n                  >\n                    <v-icon\n                    dark\n                    left\n                    class=\"mr-1\">\n                    mdi-cellphone-text\n                    </v-icon>\n                    {{card.client.phone}}\n                  </v-btn>\n                </div>\n                <div align=\"center\"\n              justify=\"center\">\n                  <v-avatar v-if=\"!card.client.avatar\" color=\"green\">\n                  <span class=\"white--text body-2\">{{card.client.name}}</span>\n                </v-avatar>\n                <v-avatar v-else>\n                  <!--\n\n                    TODO: AÑADIR AVATAR IMG\n\n                    //////////////////////\n\n                    <v-avatar size=\"180\">\n                      <v-img\n                        gradient=\"to top right, rgba(87,161,65,.10), rgba(0,0,0,.33)\"\n                        src=\"https://i.pravatar.cc/180\"\n                      >\n                        <template v-slot:placeholder>\n                          <v-row class=\"fill-height ma-0\" align=\"center\" justify=\"center\">\n                            <v-progress-circular indeterminate color=\"grey lighten-5\">\n                            </v-progress-circular>\n                          </v-row>\n                        </template>\n                        <div class=\"fill-height bottom-gradient\"></div>\n                      </v-img>\n                    </v-avatar>\n\n                    //////////////////////\n\n                  -->\n                  <span class=\"white--text body-2\">{{card.client.name}}</span>\n                </v-avatar>\n                </div>\n              </v-col>\n              <v-col cols=\"8\"></v-col>\n            </v-row>\n          </div>\n        </v-card>\n      </v-col>\n    </template>\n  </v-row>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    cards: [\n      {\n        id: \"delivered\",\n        title: \"Delivered orders\",\n        icon: \"mdi-truck-delivery\",\n        remain: 1,\n        total: 6,\n        percent: 0,\n        active: true,\n      },\n      {\n        id: \"earnings\",\n        title: \"Total earnings\",\n        icon: \"mdi-cash-multiple\",\n        today: 1,\n        week: 30,\n        month: 343,\n        orders: 1,\n        active: true,\n      },\n      {\n        id: \"lastorder\",\n        title: \"Last order\",\n        icon: \"mdi-account-clock\",\n        client: {\n          name: 'Xavier',\n          phone: '654776312',\n          avatar: null\n        },\n        order: {\n          date: '',\n          worker: 4,\n        },\n        active: true,\n      },\n      {\n        id: \"products\",\n        title: \"Stock status\",\n        icon: \"mdi-food-fork-drink\",\n        lowStock: {\n          id: 0,\n          stock: 0,\n        },\n        topSelling: {\n          id: 0,\n          sold: 0,\n        },\n        active: true,\n      },\n    ],\n  }),\n  created: function() {\n    //UPDATE DELIVERED ORDERS CARD\n    this.cards.forEach(c => {\n      if (c.hasOwnProperty('percent')){\n        c.percent = 100-(Math.round((c.remain/c.total)*100));\n      }\n      if (c.hasOwnProperty('order')){\n        c.order.date = this.currentTime();\n      }\n    });\n    //CALCULATE LAST ORDER TIME\n  },\n  methods: {\n    currentTime() {\n        let date = new Date();\n        let hh = date.getHours();\n        let mm = date.getMinutes();\n        let ss = date.getSeconds();\n        let session = \"AM\";\n\n        if (hh === 0) {\n            hh = 12;\n        }\n        if (hh > 12) {\n            hh = hh - 12;\n            session = \"PM\";\n        }\n\n        hh = hh < 10 ? \"0\" + hh : hh;\n        mm = mm < 10 ? \"0\" + mm : mm;\n        ss = ss < 10 ? \"0\" + ss : ss;\n\n        return hh + \":\" + mm + \":\" + ss + \" \" + session;\n        }\n  },\n};\n</script>"]},"metadata":{},"sourceType":"module"}