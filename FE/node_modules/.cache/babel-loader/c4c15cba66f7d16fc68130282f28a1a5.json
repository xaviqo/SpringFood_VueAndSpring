{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\nmodule.exports = Pend;\n\nfunction Pend() {\n  this.pending = 0;\n  this.max = Infinity;\n  this.listeners = [];\n  this.waiting = [];\n  this.error = null;\n}\n\nPend.prototype.go = function (fn) {\n  if (this.pending < this.max) {\n    pendGo(this, fn);\n  } else {\n    this.waiting.push(fn);\n  }\n};\n\nPend.prototype.wait = function (cb) {\n  if (this.pending === 0) {\n    cb(this.error);\n  } else {\n    this.listeners.push(cb);\n  }\n};\n\nPend.prototype.hold = function () {\n  return pendHold(this);\n};\n\nfunction pendHold(self) {\n  self.pending += 1;\n  var called = false;\n  return onCb;\n\n  function onCb(err) {\n    if (called) throw new Error(\"callback called twice\");\n    called = true;\n    self.error = self.error || err;\n    self.pending -= 1;\n\n    if (self.waiting.length > 0 && self.pending < self.max) {\n      pendGo(self, self.waiting.shift());\n    } else if (self.pending === 0) {\n      var listeners = self.listeners;\n      self.listeners = [];\n      listeners.forEach(cbListener);\n    }\n  }\n\n  function cbListener(listener) {\n    listener(self.error);\n  }\n}\n\nfunction pendGo(self, fn) {\n  fn(pendHold(self));\n}","map":{"version":3,"names":["module","exports","Pend","pending","max","Infinity","listeners","waiting","error","prototype","go","fn","pendGo","push","wait","cb","hold","pendHold","self","called","onCb","err","Error","length","shift","forEach","cbListener","listener"],"sources":["/home/xavi/Desktop/TRABAJOS/SpringFood/FE/springfood/node_modules/pend/index.js"],"sourcesContent":["module.exports = Pend;\n\nfunction Pend() {\n  this.pending = 0;\n  this.max = Infinity;\n  this.listeners = [];\n  this.waiting = [];\n  this.error = null;\n}\n\nPend.prototype.go = function(fn) {\n  if (this.pending < this.max) {\n    pendGo(this, fn);\n  } else {\n    this.waiting.push(fn);\n  }\n};\n\nPend.prototype.wait = function(cb) {\n  if (this.pending === 0) {\n    cb(this.error);\n  } else {\n    this.listeners.push(cb);\n  }\n};\n\nPend.prototype.hold = function() {\n  return pendHold(this);\n};\n\nfunction pendHold(self) {\n  self.pending += 1;\n  var called = false;\n  return onCb;\n  function onCb(err) {\n    if (called) throw new Error(\"callback called twice\");\n    called = true;\n    self.error = self.error || err;\n    self.pending -= 1;\n    if (self.waiting.length > 0 && self.pending < self.max) {\n      pendGo(self, self.waiting.shift());\n    } else if (self.pending === 0) {\n      var listeners = self.listeners;\n      self.listeners = [];\n      listeners.forEach(cbListener);\n    }\n  }\n  function cbListener(listener) {\n    listener(self.error);\n  }\n}\n\nfunction pendGo(self, fn) {\n  fn(pendHold(self));\n}\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiBC,IAAjB;;AAEA,SAASA,IAAT,GAAgB;EACd,KAAKC,OAAL,GAAe,CAAf;EACA,KAAKC,GAAL,GAAWC,QAAX;EACA,KAAKC,SAAL,GAAiB,EAAjB;EACA,KAAKC,OAAL,GAAe,EAAf;EACA,KAAKC,KAAL,GAAa,IAAb;AACD;;AAEDN,IAAI,CAACO,SAAL,CAAeC,EAAf,GAAoB,UAASC,EAAT,EAAa;EAC/B,IAAI,KAAKR,OAAL,GAAe,KAAKC,GAAxB,EAA6B;IAC3BQ,MAAM,CAAC,IAAD,EAAOD,EAAP,CAAN;EACD,CAFD,MAEO;IACL,KAAKJ,OAAL,CAAaM,IAAb,CAAkBF,EAAlB;EACD;AACF,CAND;;AAQAT,IAAI,CAACO,SAAL,CAAeK,IAAf,GAAsB,UAASC,EAAT,EAAa;EACjC,IAAI,KAAKZ,OAAL,KAAiB,CAArB,EAAwB;IACtBY,EAAE,CAAC,KAAKP,KAAN,CAAF;EACD,CAFD,MAEO;IACL,KAAKF,SAAL,CAAeO,IAAf,CAAoBE,EAApB;EACD;AACF,CAND;;AAQAb,IAAI,CAACO,SAAL,CAAeO,IAAf,GAAsB,YAAW;EAC/B,OAAOC,QAAQ,CAAC,IAAD,CAAf;AACD,CAFD;;AAIA,SAASA,QAAT,CAAkBC,IAAlB,EAAwB;EACtBA,IAAI,CAACf,OAAL,IAAgB,CAAhB;EACA,IAAIgB,MAAM,GAAG,KAAb;EACA,OAAOC,IAAP;;EACA,SAASA,IAAT,CAAcC,GAAd,EAAmB;IACjB,IAAIF,MAAJ,EAAY,MAAM,IAAIG,KAAJ,CAAU,uBAAV,CAAN;IACZH,MAAM,GAAG,IAAT;IACAD,IAAI,CAACV,KAAL,GAAaU,IAAI,CAACV,KAAL,IAAca,GAA3B;IACAH,IAAI,CAACf,OAAL,IAAgB,CAAhB;;IACA,IAAIe,IAAI,CAACX,OAAL,CAAagB,MAAb,GAAsB,CAAtB,IAA2BL,IAAI,CAACf,OAAL,GAAee,IAAI,CAACd,GAAnD,EAAwD;MACtDQ,MAAM,CAACM,IAAD,EAAOA,IAAI,CAACX,OAAL,CAAaiB,KAAb,EAAP,CAAN;IACD,CAFD,MAEO,IAAIN,IAAI,CAACf,OAAL,KAAiB,CAArB,EAAwB;MAC7B,IAAIG,SAAS,GAAGY,IAAI,CAACZ,SAArB;MACAY,IAAI,CAACZ,SAAL,GAAiB,EAAjB;MACAA,SAAS,CAACmB,OAAV,CAAkBC,UAAlB;IACD;EACF;;EACD,SAASA,UAAT,CAAoBC,QAApB,EAA8B;IAC5BA,QAAQ,CAACT,IAAI,CAACV,KAAN,CAAR;EACD;AACF;;AAED,SAASI,MAAT,CAAgBM,IAAhB,EAAsBP,EAAtB,EAA0B;EACxBA,EAAE,CAACM,QAAQ,CAACC,IAAD,CAAT,CAAF;AACD"},"metadata":{},"sourceType":"script"}