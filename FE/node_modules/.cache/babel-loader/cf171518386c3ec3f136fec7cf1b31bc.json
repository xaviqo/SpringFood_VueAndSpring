{"ast":null,"code":"import DashboardSimpleTable from \"@/components/DashboardSimpleTable.vue\";\nexport default {\n  components: {\n    DashboardSimpleTable\n  },\n\n  data() {\n    return {\n      text: 'hola',\n      headers: [{\n        text: 'Order',\n        value: 'orderId'\n      }, {\n        text: 'Time',\n        value: 'timestamp'\n      }, {\n        text: 'Client',\n        value: 'clientName'\n      }, {\n        text: 'Phone',\n        value: 'clientPhone',\n        sortable: false\n      }, {\n        text: 'Address',\n        value: 'clientAddress',\n        sortable: false\n      }, {\n        text: 'Total',\n        value: 'totalAmount'\n      }, {\n        text: 'Paid',\n        value: 'paid'\n      }, {\n        text: 'Delivered',\n        value: 'delivered'\n      }, {\n        text: 'Actions',\n        value: 'actions',\n        sortable: false\n      }],\n      orders: [],\n      loadingOrders: true,\n      orderLine: []\n    };\n  },\n\n  created: async function () {\n    this.getTodayOrders();\n  },\n  methods: {\n    async getTodayOrders() {\n      this.axios.get(`/api/order/getTodayOrders`).then(res => {\n        this.orders = res.data;\n        this.loadingOrders = false;\n      }).catch(e => {\n        console.log(\"Error loading orders {getTodayOrders()}\");\n        console.log(e);\n        this.loadingOrders = false;\n      });\n    },\n\n    async expandItem(orderId) {\n      this.axios.get(`/api/order/getLinesFromOrder/${orderId}`).then(res => {\n        this.orderLine = res.data;\n      }).catch(e => {\n        console.log(\"Error loading orderLine {getLinesFromOrder(String orderId)}\");\n        console.log(e);\n      });\n    },\n\n    getColor(bool) {\n      if (bool) return 'green';else return 'red';\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA8DA;AACA;EACAA;IACAC;EADA,CADA;;EAIAC;IACA;MACAC,YADA;MAEAC,UACA;QAAAD;QAAAE;MAAA,CADA,EAEA;QAAAF;QAAAE;MAAA,CAFA,EAGA;QAAAF;QAAAE;MAAA,CAHA,EAIA;QAAAF;QAAAE;QAAAC;MAAA,CAJA,EAKA;QAAAH;QAAAE;QAAAC;MAAA,CALA,EAMA;QAAAH;QAAAE;MAAA,CANA,EAOA;QAAAF;QAAAE;MAAA,CAPA,EAQA;QAAAF;QAAAE;MAAA,CARA,EASA;QAAAF;QAAAE;QAAAC;MAAA,CATA,CAFA;MAaAC,UAbA;MAeAC,mBAfA;MAgBAC;IAhBA;EAmBA,CAxBA;;EAyBAC;IACA;EACA,CA3BA;EA4BAC;IACA;MACA,WACAC,GADA,CACA,2BADA,EAEAC,IAFA,CAEAC;QACA;QACA;MACA,CALA,EAMAC,KANA,CAMAC;QACAC;QACAA;QACA;MACA,CAVA;IAWA,CAbA;;IAcA;MACA,WACAL,GADA,CACA,yCADA,EAEAC,IAFA,CAEAC;QACA;MACA,CAJA,EAKAC,KALA,CAKAC;QACAC;QACAA;MACA,CARA;IASA,CAxBA;;IAyBAC;MACA,8BACA;IACA;;EA5BA;AA5BA","names":["components","DashboardSimpleTable","data","text","headers","value","sortable","orders","loadingOrders","orderLine","created","methods","get","then","res","catch","e","console","getColor"],"sourceRoot":"src/components","sources":["DashboardTable.vue"],"sourcesContent":["<template>\n  <v-row>\n    <v-col cols=\"8\">\n      <template>\n        <v-card outlined tile min-height=\"20vh\">\n          <div class=\"d-flex flex-no-wrap justify-space-between\">\n            <div>\n              <v-card-title class=\"body-1 text-weight-light\">Today deliveries</v-card-title>\n            </div>\n              <v-avatar size=\"50\">\n                <v-icon color=\"green\" large>mdi-table</v-icon>\n              </v-avatar>\n          </div>\n          <v-divider/>\n          <v-data-table\n            loading\n            :loading=\"loadingOrders\"\n            loading-text=\"Loading today orders...\"\n            no-data-text=\"Empty orders\"\n            :headers=\"headers\"\n            :items=\"orders\"\n            :items-per-page=\"9\"\n            height=\"50vh\"\n          >\n          <template v-slot:item.paid=\"{ item }\">\n            <v-chip\n              :color=\"getColor(item.paid)\"\n              dark\n            >\n            </v-chip>\n          </template>\n          <template v-slot:item.delivered=\"{ item }\">\n            <v-chip\n              :color=\"getColor(item.delivered)\"\n              dark\n            >\n            <span v-if=\"item.delivered\">Y</span>\n            <span v-else>N</span>\n            </v-chip>\n          </template>\n            <template v-slot:item.actions=\"{ order }\">\n              <v-icon\n                small\n                class=\"mr-2\"\n                @click=\"expandItem(order.orderId)\"\n              >\n                mdi-magnify\n              </v-icon>\n              <v-icon\n                small\n              >\n                mdi-delete\n              </v-icon>\n            </template>\n          </v-data-table>\n        </v-card>\n      </template>\n    </v-col>\n      <dashboard-simple-table :expanded-order=\"orderLine\"/>\n  </v-row>\n</template>\n<script>\nimport DashboardSimpleTable from \"@/components/DashboardSimpleTable.vue\"\n  export default {\n    components: {\n      DashboardSimpleTable\n    },\n    data () {\n      return {\n        text : 'hola',\n        headers: [\n            { text: 'Order', value: 'orderId' },\n            { text: 'Time', value: 'timestamp' },\n            { text: 'Client', value: 'clientName' },\n            { text: 'Phone', value: 'clientPhone', sortable: false },\n            { text: 'Address', value: 'clientAddress', sortable: false },\n            { text: 'Total', value: 'totalAmount' },\n            { text: 'Paid', value: 'paid' },\n            { text: 'Delivered', value: 'delivered' },\n            { text: 'Actions', value: 'actions', sortable: false },\n          ],\n        orders: [\n          ],\n          loadingOrders: true,\n          orderLine : [\n          ]\n      }\n    },\n    created: async function() {\n      this.getTodayOrders();\n    },\n    methods: {\n      async getTodayOrders(){\n      this.axios\n        .get(`/api/order/getTodayOrders`)\n        .then((res) => {\n          this.orders = res.data;\n          this.loadingOrders = false;\n        })\n        .catch((e) => {\n          console.log(\"Error loading orders {getTodayOrders()}\");\n          console.log(e);\n          this.loadingOrders = false;\n        });\n      },\n      async expandItem(orderId){\n        this.axios\n        .get(`/api/order/getLinesFromOrder/${orderId}`)\n        .then((res) => {\n          this.orderLine = res.data;\n        })\n        .catch((e) => {\n          console.log(\"Error loading orderLine {getLinesFromOrder(String orderId)}\");\n          console.log(e);\n        });\n      },\n       getColor (bool) {\n        if (bool) return 'green'\n        else return 'red'\n      }\n    }\n\n  }\n</script>\n<style>\n.v-data-footer__select {\n  visibility: hidden\n}\n</style>"]},"metadata":{},"sourceType":"module"}